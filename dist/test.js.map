{"version":3,"sources":["webpack:///webpack/bootstrap c656dbb3a098df14ed90","webpack:///./src/sallied-forth.ts","webpack:///external \"chai\"","webpack:///external \"mocha\"","webpack:///./src/test.ts"],"names":[],"mappings":"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","file":"test.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c656dbb3a098df14ed90","\nclass StackUnderflowError extends Error {\n    constructor(context: Context, message?: string) {\n        super(`Stack underflow! ${message || '[]'}`);\n        console.log(\"CommandStack dump: \", context.commandStack);\n        if(message) {\n            console.log(message);\n        }\n    }\n\n    toString() {\n        return \"SU\";\n    }\n}\n\nconst DEFAULT_NUMBER_BASE = 10;\n\nlet isNumber = function (context:Context, val): boolean {\n    let base = context.base || DEFAULT_NUMBER_BASE;\n    if (typeof val === \"number\") {\n        return true;\n    }\n    let n;\n    n = parseInt(val, base);\n    // console.log(`int n == ${n} val == ${val} base == ${base} `)\n    if(!isNaN(n) && (n.toString(base) == val)) {\n        return true;\n    }\n    n = parseFloat(val);\n    // console.log(`float n == ${n} val == ${val}`)\n    if (isNaN(n)) {\n        return false;\n    }\n    return (val === '' + n);\n}\n\ntype Error = {\n    message: string\n}\n\ntype Result = {\n    value: any,\n    error?: Error,\n    stack: any[],\n    stdout: string\n}\n\nexport type Context = {\n    stack: any[],\n    stdout: \"\",\n    commandStack: string[],\n    base?:number\n}\n\nexport function createEmptyContext():Context {\n    return { stack: [], stdout: '', commandStack: [] };\n}\n\ntype Command = {\n    name?: string,\n    text: string,\n    command: Function,\n    immediate?: boolean\n}\n\nfunction log(context:Context, value:any):void {\n    context.stdout += '' + value;\n}\n\nfunction emit(context:Context):void {\n    if(!context.stack.length) {\n        throw new StackUnderflowError(context, \"emit\");\n    }\n    context.stdout += String.fromCharCode( context.stack.pop() );\n}\n\nfunction base(context:Context, radix:number):void {\n    context.base = radix;\n}\n\nlet dictionary: Object = {};\n\nfunction add(text: string, name: string, cmd: Function) {\n    dictionary[text] = {\n        name: name,\n        text: text,\n        command: cmd\n    }\n}\n\nadd(\"type\", \"type ( str -- )\", (context: Context) => {\n    // forth( // ( add len -- )\n    //     `0 ?do\n    //         dup c@\n    //         emit 1+\n    //     loop\n    //     drop`\n    //     )\n    if (!context.stack.length) {\n        throw new StackUnderflowError(context, \"type\");\n    }\n    log(context, context.stack.pop());\n});\n\nadd(\"BL\", \"BL ( -- 32 )\", (context, Context) => {\n    context.stack.push(32);\n})\n\nadd(\"emit\", \"emit ( -- )\", (context, Context) => {\n    emit(context);\n})\n\nadd(\"space\", \"space ( -- )\", (context: Context) => {\n    forth(\"BL emit\", context);\n})\n\nadd(\".\", \". ( n -- )\", (context, Context) => {\n    if(!context.stack.length) {\n        throw new StackUnderflowError(context, \"Empty stack for .\");\n    }\n    let val = context.stack.pop();\n    log(context, val.toString(context.base || DEFAULT_NUMBER_BASE) + ' ');\n});\n\nadd(\".s\", \".s ( -- )\", (context:Context) => {\n    log(context, (context.stack.join(' ') || 'Empty') + ' ');\n});\n\nadd(\"base\", \"base ( n -- )\", (context:Context) => {\n    base(context, context.stack.pop());\n});\n\nadd(\"hex\", \"hex ( -- )\", (context: Context) => {\n    base(context, 16);\n});\n\nadd(\"decimal\", \"decimal ( -- )\", (context: Context) => {\n    base(context, 10);\n});\n\n// add('.\"', )\n\n// dictionary[\".\"] = {\n//     name: \"Dot\",\n//     text: \".\",\n//     command: (context: Context) => {\n//         if (!context.stack.length) {\n//             throw new StackUnderflowError();\n//         }\n//         return context.stack.pop();\n//     }\n// };\n\nadd(\"pick\", \"pick ( a0 .. an n -- a0 .. an a0 )\", (context: Context) => {\n    if (!context.stack.length) {\n        throw new StackUnderflowError(context);\n    }\n    let idx = context.stack.pop();\n    let pos = (context.stack.length - 1) - idx;\n    if (pos < 0) {\n        throw new StackUnderflowError(context);\n    }\n    context.stack.push(context.stack[pos]);\n})\n\nadd(\"roll\", \"roll ( a0 .. an n -- a1 .. an a0 )\", (context: Context) => {\n    if (!context.stack.length) {\n        throw new StackUnderflowError(context);\n    }\n    let idx = context.stack.pop();\n    let pos = (context.stack.length - 1) - idx;\n    if (pos < 0) {\n        throw new StackUnderflowError(context);\n    }\n    context.stack.push(context.stack.splice(pos, 1)[0]);\n})\n\nadd(\"dup\", \"dup ( a -- a a )\", (context: Context) => {\n    forth(\"0 pick\", context);\n})\n\nadd(\"over\", \"over ( a b -- a b a )\", (context: Context) => {\n    forth(\"1 pick\", context);\n})\n\nadd(\"rot\", \"rot ( a b c -- b c a )\", (context) => {\n    forth(\"2 roll\", context);\n})\n\nadd(\"-rot\", \"-rot ( a b c -- c a b )\", (context) => {\n    forth(\"rot rot\", context);\n})\n\nadd(\"drop\", \"Drop\", (context: Context) => {\n    if (!context.stack.length) {\n        throw new StackUnderflowError(context, \"Error during drop\");\n    }\n    context.stack.pop();\n})\n\nadd(\"2drop\", \"Two Drop\", (context:Context) => {\n    forth(\"drop drop\", context);\n})\n\nadd(\"+\", \"+ ( n1 n2 -- n1+n2 )\", (context: Context) => {\n    context.stack.push(context.stack.pop() + context.stack.pop());\n})\n\nadd(\"-\", \"- ( n1 n2 -- n1-n2 )\", (context: Context) => {\n    let n2 = context.stack.pop();\n    let n1 = context.stack.pop();\n    context.stack.push(n1 - n2);\n})\n\nadd(\"*\", \"Times\", (context: Context) => {\n    context.stack.push(context.stack.pop() * context.stack.pop());\n})\n\nadd(\"swap\", \"Swap\", (context: Context) => {\n    forth(\"1 roll\", context);\n})\n\nadd(\"nip\", \"nip (a b -- b)\", (context: Context) => {\n    forth(\"swap drop\", context);\n})\n\nadd(\"tuck\", \"tuck (a b -- b a b)\", (context: Context) => {\n    forth(\"swap over\", context);\n})\n\nlet process = function (context, value, index, all): Context {\n    if (isNumber(context, value)) { // push numbers on the stack\n        context.commandStack.push(`-- ${value}`);\n        context.stack.push(parseInt(value, context.base || DEFAULT_NUMBER_BASE));\n    } else {\n        let entry = dictionary[value];\n        if (entry) {\n            context.commandStack.push(entry.name);\n            context.value = entry.command(context);\n        } else {\n            throw Error(`Command not found! |${value}|`);\n        }\n    }\n    return context;\n}\n\n//= { stack: [], stdout: \"\", commandStack: [] }\nexport const forth = (input: string, context: Context): Result => {\n    let operands = input.split(/\\s+|\"(?:\\\\\"|[^\"])+\"/g).filter((txt)=> txt.length);\n    // console.log(\"operands\", operands);\n    let result = operands.reduce(process, context);\n    // console.log(\"ending context\", context);\n    return result;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/sallied-forth.ts","module.exports = require(\"chai\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chai\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"mocha\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mocha\"\n// module id = 2\n// module chunks = 0","\nimport \"mocha\";\nimport {expect} from \"chai\";\nimport {forth, Context, createEmptyContext} from \"./sallied-forth\";\n\nlet testForth = (input:string) => {\n    return forth(input, createEmptyContext());\n}\n\ndescribe('forth interpreter command', ()=> {\n    describe('string handling', ()=> {\n        it('BL adds 32 to the stack', ()=> {\n            expect(testForth('BL')).to.have.property('stack').to.eql([32]);\n        })\n        // it('allows direct string inlining', ()=> {\n        //     expect(\n        //         testForth('s\" ABC \" type')\n        //     )\n        //     .to.have.property('stdout')\n        //     .that.equals('ABC ')\n        // })\n    })\n    describe('parser', ()=> {\n        it('copes with single spaces', () => {\n            expect(testForth(\"99 .\")).to.have.property('stdout').that.equals(\"99 \");\n        })\n        it('copes with multiple spaces', () => {\n            expect(testForth('99      1    + .')).to.have.property('stdout').that.equals('100 ');\n        })\n        it('copes with other whitespace', () => {\n            expect(testForth(`23\n             7\n                +   .`).stdout).to.equal('30 ');\n        })\n        // it('handles strings', () => {\n        //     expect(testForth('s\" ABC \" .')).to.have.property('stdout').that.eqls('DANG!');\n        // })\n    })\n    describe('main stack', ()=> {\n        describe('push and pop', ()=> {\n            it('. returns a result object', ()=> {\n                expect(testForth(\"12 .\")).to.be.an('object');\n            })\n            it('. returns a value in the result object', ()=> {\n                expect(testForth(\"99 .\").stdout).to.equal('99 ');\n            })\n            it('. throws an error when stack is empty', ()=> {\n                expect(()=> testForth(\".\")).to.throw(Error, 'Stack underflow!');\n            })\n        })\n        describe('querying', ()=> {\n            it('.s displays the content of the stack', () => {\n                expect(testForth(\"99 11 1001 .s\").stdout).to.equal(\"99 11 1001 \");\n            })\n            it('.s displays Empty when the stack is empty', () => {\n                expect(testForth(\".s\").stdout).to.equal(\"Empty \");\n            })\n        })\n        describe('stack manipulation methods', ()=> {\n            it('duplicates the top of the stack with dup', () => {\n                expect(testForth('98 dup').stack.length).to.equal(2);\n            })\n            it('duplicates the second item on the stack and places it on the top with over', () => {\n                expect(testForth('99 66 over').stack).to.eql([99, 66, 99]);\n            })\n            it('drops the top of the stack with drop', () => {\n                expect(testForth('97 drop').stack.length).to.equal(0);\n            })\n            it('picks the third item off the stack and place it first with rot', () => {\n                expect(testForth('10 20 30 rot').stack).to.eql([20, 30, 10]);\n            })\n            it('picks the first item off the stack and place it third with -rot', () => {\n                expect(testForth('10 20 30 -rot').stack).to.eql([30, 10, 20]);\n            })\n            it('drops the top two items on the stack with 2drop', () => {\n                expect(testForth('1 10 2drop').stack).to.eql([]);\n            })\n            it('swaps the top two items on the stack with swap', () => {\n                expect(testForth('1 10 swap').stack).to.eql([10, 1]);\n            })\n            it('drop the second item on the stack with nip', () => {\n                expect(testForth('1 10 nip').stack).to.eql([10]);\n            })\n            it('(a b -- b a b) with tuck', () => {\n                expect(testForth('1 10 tuck').stack).to.eql([10, 1, 10]);\n            })\n        })\n    })\n    describe('math methods', ()=> {\n        it('adds the top two stack items with +', () => {\n            expect(testForth('10 21 + .').stdout).to.equal('31 ');\n        })\n        it('subtracts the 2nd stack item from the 1st stack item with -', () => {\n            expect(testForth('100 12 - .').stdout).to.equal('88 ');\n        })\n        it('multiplies the top two stack items with *', () => {\n            expect(testForth('4 7 * .').stdout).to.equal('28 ');\n        })\n        it('can accept values in binary number base', () => {\n            expect(testForth('2 base 1001 11 + .').stdout).to.equal('1100 ');\n        })\n        it('can accept numbers in hexadecimal', () => {\n            expect(testForth('hex ff 4 - .').stdout).to.equal('fb ');\n        })\n        it('can switch between hexadecimal and decimal', () => {\n            expect(testForth('hex ff decimal 40 - .').stdout).to.equal('215 ');\n        })\n    })\n})\n\n\n// WEBPACK FOOTER //\n// ./src/test.ts"],"sourceRoot":""}